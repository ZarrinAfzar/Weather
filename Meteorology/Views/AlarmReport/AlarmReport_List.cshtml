@using Weather.Data.Enums
@model IEnumerable<Alarm>

<div class="row">
    <div class="col-sm-12">
        <div class="card-box table-responsive">
            <h4 class="header-title m-t-0 m-b-30" id="AlarmLog_ListTitle">گزارش آلارم های ثبت شده</h4>
            <div class="row">
                <table id="datatable-buttons" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>پروژه</th>
                            <th>ایستگاه</th>
                            <th>نام آلارم</th>
                            <th>تاریخ شروع</th>
                            <th>تاریخ پایان</th>
                            <th>#</th>

                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var item in Model)
                            {
                                <tr id="AlarmDetailRow_@item.Id" class="@item.AlarmColor">

                                    <td>@item.Station.Project.Name</td>
                                    <td>@item.Station.Name</td>
                                    <td>@item.AlarmName</td>
                                    <td>@item.AlarmStartDateConvertor</td>
                                    <td>@item.AlarmEndDateConvertor</td>
                                    <td>
                                        @{

                                            if (item.AlarmType == EnuAlarm.Sensors)
                                            {
                                                <button onclick="SensorAlarmLog(@item.Id)" class="icon circle-icon red zmdi zmdi-alarm text-info" style="border: 2px solid #35b8e0;background-color: #FFF !important;"></button>
                                            }
                                            else if (item.AlarmType == EnuAlarm.Pest)
                                            { <button onclick="PestAlarmLog(@item.Id)" class="icon circle-icon red zmdi zmdi-alarm text-info" style="border: 2px solid #35b8e0;background-color: #FFF !important;"></button>
                                              

                                            }

                                            <button onclick="SmsSendLog(@item.Id)" class="icon circle-icon red zmdi zmdi-email text-info" style="border: 2px solid #35b8e0;background-color: #FFF !important;"></button>
                                        }

                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div><!-- end col -->
</div>

@section Scripts
    {
    <!-- Datatables-->
    <script src="~/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/plugins/datatables/dataTables.bootstrap.js"></script>
    <script src="~/plugins/datatables/dataTables.buttons.min.js"></script>
    <script src="~/plugins/datatables/buttons.bootstrap.min.js"></script>
    <script src="~/plugins/datatables/jszip.min.js"></script>
    <script src="~/plugins/datatables/pdfmake.min.js"></script>
    <script src="~/plugins/datatables/vfs_fonts.js"></script>
    <script src="~/plugins/datatables/buttons.html5.min.js"></script>
    <script src="~/plugins/datatables/buttons.print.min.js"></script>
    <script src="~/plugins/datatables/dataTables.fixedHeader.min.js"></script>
    <script src="~/plugins/datatables/dataTables.keyTable.min.js"></script>
    <script src="~/plugins/datatables/dataTables.responsive.min.js"></script>
    <script src="~/plugins/datatables/responsive.bootstrap.min.js"></script>
    <script src="~/plugins/datatables/dataTables.scroller.min.js"></script>

    <!-- Datatable init js -->
    <script src="~/pages/datatables.init.js"></script>
    <script src="~/MyScript/AlarmReport/AlarmReport.js"></script>


}

